{% extends "base.html" %}
{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/grados.css') }}">

<div class="page-header">
    <div class="container">
        <h1 class="page-title"><i class="fas fa-plus"></i> Nuevo Grado</h1>
        <p class="page-subtitle">Formulario para crear un nuevo grado académico</p>
    </div>
</div>

<div class="container">
    <div class="form-container">
        <form method="POST" id="formGrado">
            <div class="form-section">
                <h3 class="section-title"><i class="fas fa-cog"></i> Información del Grado</h3>

                <div class="form-group">
                    <label for="nombre_grado" class="form-label required-field">Nombre del Grado</label>
                    <div class="input-icon">
                        <i class="fas fa-school"></i>
                        <input type="text" name="nombre_grado" id="nombre_grado" class="form-control" required maxlength="50">
                    </div>
                    <div class="invalid-feedback" id="nombreError"></div>
                </div>

                <div class="form-group">
                    <label for="nivel" class="form-label required-field">Nivel</label>
                    <div class="input-icon">
                        <i class="fas fa-layer-group"></i>
                        <input type="text" name="nivel" id="nivel" class="form-control" required maxlength="30">
                    </div>
                    <div class="invalid-feedback" id="nivelError"></div>
                </div>
            </div>

            <div class="action-buttons">
                <button type="submit" class="btn btn-success"><i class="fas fa-save"></i> Guardar</button>
                <a href="{{ url_for('grados.lista_grados') }}" class="btn btn-secondary"><i class="fas fa-times"></i> Cancelar</a>
            </div>
        </form>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function(){
    const form = document.getElementById('formGrado');
    form.addEventListener('submit', function(e){
        let valid = true;

        const nombre = document.getElementById('nombre_grado');
        if(nombre.value.trim() === ""){
            document.getElementById('nombreError').textContent = "Este campo es obligatorio";
            nombre.classList.add('is-invalid');
            valid=false;
        } else { nombre.classList.remove('is-invalid'); }

        const nivel = document.getElementById('nivel');
        if(nivel.value.trim() === ""){
            document.getElementById('nivelError').textContent = "Este campo es obligatorio";
            nivel.classList.add('is-invalid');
            valid=false;
        } else { nivel.classList.remove('is-invalid'); }

        if(!valid) e.preventDefault();
    });
});
</script>

{% endblock %}
